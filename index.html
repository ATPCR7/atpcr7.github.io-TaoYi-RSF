<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Service Fee Calculator</title>
    <script>
        function calculateFee() {
            // 获取用户输入的各项数值
            let sponser = parseInt(document.getElementById('sponser').value);
            let phase = parseInt(document.getElementById('phase').value);
            let registrationClassification = parseInt(document.getElementById('registrationClassification').value);
            let type = parseInt(document.getElementById('type').value);
            let methodOfAdministration = parseInt(document.getElementById('methodOfAdministration').value);
            let noOfBloodCollection = parseFloat(document.getElementById('noOfBloodCollection').value);
            let biopsyPuncture = parseInt(document.getElementById('biopsyPuncture').value);
            let visit = parseFloat(document.getElementById('visit').value);
            let lengthOfStay = parseFloat(document.getElementById('lengthOfStay').value);

            // 系数定义
            const a = -105365;
            const b = 43314;
            const c = 9620;
            const d = -588;
            const e = 18024;
            const f = 6915;
            const g = 1118;
            const h = 13591;
            const i = 2075;
            const j = -3310;

            // 计算研究服务费用
            let researchServiceFee = a + b * sponser + c * phase + d * registrationClassification +
                                     e * type + f * methodOfAdministration + g * noOfBloodCollection +
                                     h * biopsyPuncture + i * visit + j * lengthOfStay;

            // 显示预测结果
            document.getElementById('result').innerHTML = "Research Service Fee: ¥" + researchServiceFee.toFixed(2);
        }
    </script>
</head>
<body>
    <h1>Research Service Fee Calculator</h1>
    <form>
        <label for="sponser">Sponsor：</label>
        <select id="sponser" required>
            <option value="1">State-owned company</option>
            <option value="2">Overseas-funded enterprise</option>
        </select><br>

        <label for="phase">Phase：</label>
        <select id="phase" required>
            <option value="1">Ⅰ</option>
            <option value="2">Ⅱ</option>
            <option value="3">Ⅲ</option>
        </select><br>

        <label for="registrationClassification">Registration Classification：</label>
        <select id="registrationClassification" required>
            <option value="1">Chemical drugs 1</option>
            <option value="2">Chemical drugs 2</option>
            <option value="3">Chemical drugs 3</option>
            <option value="4">Chemical drugs 4</option>
            <option value="5">Chemical drugs 5</option>
            <option value="6">Biologics</option>
        </select><br>

        <label for="type">Drug Type：</label>
        <select id="type" required>
            <option value="1">Oncologic drugs</option>
            <option value="0">Non-tumor drugs</option>
        </select><br>

        <label for="methodOfAdministration">Method of Administration：</label>
        <select id="methodOfAdministration" required>
            <option value="1">Oral</option>
            <option value="2">Subcutaneous injection</option>
            <option value="3">Intravenous infusion</option>
            <option value="4">Local delivery</option>
        </select><br>

        <label for="noOfBloodCollection">Number of Blood Collection：</label>
        <input type="number" id="noOfBloodCollection" required><br>

        <label for="biopsyPuncture">Biopsy/Puncture：</label>
        <select id="biopsyPuncture" required>
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select><br>

        <label for="visit">Visit：</label>
        <input type="number" id="visit" required><br>

        <label for="lengthOfStay">Length of Stay (days)：</label>
        <input type="number" id="lengthOfStay" required><br>

        <button type="button" onclick="calculateFee()">Calculate Fee</button>
    </form>
    <p id="result"></p>
</body>
</html>
